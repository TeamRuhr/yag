{namespace yag=DL\Yag\ViewHelpers}
{namespace extlist=PunktDe\PtExtlist\ViewHelpers}
{namespace ptx=PunktDe\PtExtbase\ViewHelpers}
{namespace core=TYPO3\CMS\Core\ViewHelpers}


<f:comment>
    <!--
    Template for rendering gallery index in backend context

    Here is a list of objects / variables that can be accessed in this template:

    Tx_PtExtlist_Domain_Model_List_ListData  listData               Items to be rendered
    Tx_PtExtlist_Domain_Model_Pager_PagerInterface pager            Pager
    Tx_PtExtlist_Domain_Model_Pager_PagerCollection pagerCollection Collection of pagers

    @package YAG
    @author Michael Knoll <mimi@kaktusteam.de>
    @author Daniel Lienert <typo3@lienert.cc>
    -->
</f:comment>

<f:layout name="Default"/>
<f:section name="main">

    <f:format.raw><yag:Javascript.Template templatePath="EXT:yag/Resources/Private/JSTemplates/GalleryBackendIndex.js"
                             arguments="{ajaxBaseURL : '{f:uri.action(controller:\'Ajax\')}', galleryUid : gallery.uid}"/></f:format.raw>

    <script>
        jQuery(function () {
            jQuery("#tabs").tabs();
        });
    </script>
    <h2>
        <f:translate key="tx_yag_domain_model_gallery"/>
        : {gallery.name}
    </h2>
    <div class="#messages"></div>

    <div id="tabs">
        <ul>
            <li><a href="#tabs-1">
                <f:translate key="gallery.edit.albums"/>
            </a></li>
            <li><a href="#tabs-2">
                <f:translate key="gallery.edit.albumBulkEdit"/>
            </a></li>
            <li><a href="#tabs-3">
                <f:translate key="gallery.edit.settings"/>
            </a></li>
        </ul>

        <div id="tabs-1">
            <f:render partial="Themes/Backend/Gallery/IndexTabAlbums" arguments="{_all}"/>
        </div>

        <div id="tabs-2">
            <f:render partial="Themes/Backend/Gallery/IndexTabEditAlbums" arguments="{_all}"/>
        </div>

        <div id="tabs-3">
            <f:render partial="Themes/Backend/Gallery/IndexTabGallerySettings" arguments="{_all}"/>
        </div>
    </div>
</f:section>

<f:section name="beButtonsLeft">
    <f:format.raw><ptx:be.buttons.icon uri="{f:uri.action(action: 'list')}"/></f:format.raw>
    <f:link.action action="delete" arguments="{gallery: gallery}"
                   title="{f:translate(key: 'tx_yag_controller_album.deleteAlbum')}">
        <core:icon identifier="actions-edit-delete"/>
    </f:link.action>
    <f:link.action action="new" title="{f:translate(key: 'tx_yag_controller_album.addAlbum')}">
        <core:icon identifier="actions-document-new"/>
    </f:link.action>
</f:section>

<f:section name="feEdit"></f:section>